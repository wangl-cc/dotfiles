#!/usr/bin/env bash
# A wrapper script to start neovim

# Fallback to vim if nvim is not available
if ! command -v nvim >/dev/null 2>&1; then
  vim "$@"
fi

# If this is executed inside neovim, open it in a vertical split
if [[ -n "$NVIM" ]] && command -v nvr >/dev/null 2>&1; then
  nvr -O "$@"
  exit $?
fi

# Otherwise, just start neovim
nvim "$@"
